extends ../layout/layout.pug
include ../mixins/form-group.pug
include ../mixins/breadcrumb

block content
  +breadcrumb([currentModel.name()])
  section.view-edit
    form(method='POST' action=h.listUrl(currentModel))
      .level
        h3.title
          a.button.is-text.is-back(href=h.listUrl(currentModel))
            span.icon.is-small
              i.fas.fa-arrow-left
          | Create #{currentModel.name()}
        .field.is-grouped
          .control
            button.button.is-primary(type='submit')
              span(class="icon is-small")
                i.fas.fa-check
              .btn-text Save
      .box
        for prop in properties.filter(p => p.isEditable())
          - error = instance.error(prop.name())
          - value = instance.param(prop.name())
          +formGroup(prop, value, error)